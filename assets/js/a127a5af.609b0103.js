(self.webpackChunkdoc_ops=self.webpackChunkdoc_ops||[]).push([[545],{8078:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return c},contentTitle:function(){return s},metadata:function(){return l},toc:function(){return u},default:function(){return f}});var i=n(2122),a=n(9756),r=(n(7294),n(3905)),o=["components"],c={},s="Limiting Access",l={unversionedId:"guide/schema/access",id:"guide/schema/access",isDocsHomePage:!1,title:"Limiting Access",description:"The optional access subsection is made of a single definition. It indicates the agent",source:"@site/docs/guide/schema/access.mdx",sourceDirName:"guide/schema",slug:"/guide/schema/access",permalink:"/wasp/docs/guide/schema/access",editUrl:"https://github.com/iotaledger/chronicle.rs/tree/main/docs/docs/guide/schema/access.mdx",version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Function Definitions",permalink:"/wasp/docs/guide/schema/funcs"},next:{title:"Function Parameters",permalink:"/wasp/docs/guide/schema/params"}},u=[],p={toc:u};function f(e){var t=e.components,n=(0,a.Z)(e,o);return(0,r.kt)("wrapper",(0,i.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"limiting-access"},"Limiting Access"),(0,r.kt)("p",null,"The optional ",(0,r.kt)("inlineCode",{parentName:"p"},"access")," subsection is made of a single definition. It indicates the agent\nwho is allowed to access the function. When this definition is omitted anyone is allowed\nto call the function. When the definition is present it should be an access identifier,\noptionally followed by an explanatory comment. Access identifiers can be one of the\nfollowing:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"self"),": only the smart contract itself can call this function"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"chain"),": only the chain owner can call this function"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"creator"),": only the contract creator can call this function"),(0,r.kt)("li",{parentName:"ul"},"anything else: the name of an AgentID or []AgentID variable in state storage. Only the\nagent(s) defined there can call this function. When this option is used you should also\nprovide functionality that can initialize and/or modify this variable. As long as this\nstate variable has not been set, nobody is allowed to call this function.")),(0,r.kt)("p",null,"The schema tool will automatically generate code to properly check the access rights of\nthe agent that called the function before the actual function is called."),(0,r.kt)("p",null,"You can see usage examples of the access identifier in the schema.json above, where the\nstate variable ",(0,r.kt)("inlineCode",{parentName:"p"},"owner")," is used as an access identifier. The ",(0,r.kt)("inlineCode",{parentName:"p"},"init")," function initializes\nthis state variable, and the ",(0,r.kt)("inlineCode",{parentName:"p"},"setOwner")," function can be used only by the current owner to\nset a new owner. Finally, the ",(0,r.kt)("inlineCode",{parentName:"p"},"member")," function can also only be called by the current\nowner."),(0,r.kt)("p",null,"Note that there can be different access identifiers for different functions as needed. You\ncan set up as many access identifiers as you like."),(0,r.kt)("p",null,"In the next section we will look at the ",(0,r.kt)("inlineCode",{parentName:"p"},"params")," subsection."))}f.isMDXComponent=!0},3905:function(e,t,n){"use strict";n.d(t,{Zo:function(){return u},kt:function(){return d}});var i=n(7294);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t){if(null==e)return{};var n,i,a=function(e,t){if(null==e)return{};var n,i,a={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var s=i.createContext({}),l=function(e){var t=i.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},u=function(e){var t=l(e.components);return i.createElement(s.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},f=i.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,s=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),f=l(n),d=a,m=f["".concat(s,".").concat(d)]||f[d]||p[d]||r;return n?i.createElement(m,o(o({ref:t},u),{},{components:n})):i.createElement(m,o({ref:t},u))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,o=new Array(r);o[0]=f;var c={};for(var s in t)hasOwnProperty.call(t,s)&&(c[s]=t[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,o[1]=c;for(var l=2;l<r;l++)o[l]=n[l];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}f.displayName="MDXCreateElement"}}]);