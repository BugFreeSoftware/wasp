<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Material+Icons"><title data-react-helmet="true">Function Call Context | IOTA Smart Contract Protocol</title><meta data-react-helmet="true" property="og:url" content="https://iscp.docs.iota.org/wasp/docs/guide/schema/context/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Function Call Context | IOTA Smart Contract Protocol"><meta data-react-helmet="true" name="description" content="We saw that proxy objects provide generic access capabilities to the data on the host. It"><meta data-react-helmet="true" property="og:description" content="We saw that proxy objects provide generic access capabilities to the data on the host. It"><link data-react-helmet="true" rel="shortcut icon" href="/wasp/img/logo/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://iscp.docs.iota.org/wasp/docs/guide/schema/context/"><link data-react-helmet="true" rel="alternate" href="https://iscp.docs.iota.org/wasp/docs/guide/schema/context/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://iscp.docs.iota.org/wasp/docs/guide/schema/context/" hreflang="x-default"><link rel="stylesheet" href="/wasp/assets/css/styles.5d220371.css">
<link rel="preload" href="/wasp/assets/js/runtime~main.11519ed5.js" as="script">
<link rel="preload" href="/wasp/assets/js/main.fed7690e.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/wasp/"><img src="/wasp/img/logo/WASP_logo_dark.png" alt="IOTA" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/wasp/img/logo/WASP_logo_dark.png" alt="IOTA" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">ISCP</b></a><a class="navbar__item navbar__link navbar__link--active" href="/wasp/docs/overview/">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/wasp/docs/overview/">Overview</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Core Concepts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">ISCP Chains and Nodes</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Rust/WASM</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/rust_wasm/introduction/">Introduction</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Schema tool</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/intro/">Smart Contract Schemas</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/proxies/">Data Access Proxies</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/types/">WasmLib Data Types</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/wasp/docs/guide/schema/context/">Function Call Context</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/schema/">Smart Contract Schema Tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/usage/">Using the Schema Tool</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/structs/">Structured Data Types</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/typedefs/">Type Definitions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/state/">Smart Contract State</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/funcs/">Function Definitions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/access/">Limiting Access</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/params/">Function Parameters</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/results/">Function Results</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/thunks/">Thunk Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/views/">View-Only Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/init/">Smart Contract Initialization</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/transfers/">Token Transfers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/funcdesc/">Function Descriptors</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/call/">Calling Functions</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/post/">Posting Asynchronous Requests</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/test/">Testing Smart Contracts</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/examples/">Example Tests</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/wasp/docs/guide/schema/timelock/">Colored Tokens and Time Locks</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">EVM</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Example projects</a></li><li class="menu__list-item"><a class="menu__link" href="/wasp/docs/contribute/">Contribute</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="markdown"><header><h1 class="h1Heading_27L5">Function Call Context</h1></header><p>We saw that proxy objects provide generic access capabilities to the data on the host. It
is now time to introduce the gateway to the host that allows us to access the
functionality that the host sandbox interface provides. We call this gateway the <em>function
call context</em>
, and it is provided as a predefined parameter to the smart contract function. In fact, we
distinguish two separate flavors of smart contract functions in the ISCP:</p><ul><li><strong>Func</strong>, which allows full mutable access to the smart contract state, and always
results in a state update.</li><li><strong>View</strong>, which allows only limited, immutable access to the smart contract state, and
therefore does not result in a state update. Views can be used to efficiently query the
current state of the smart contract.</li></ul><p>To support this function type distinction, Func and View functions each receive a
separate, different function call context. Only the functionality that is necessary for
their implementation can be accessed through their respective contexts,
named <code>ScFuncContext</code>
and <code>ScViewContext</code>. ScViewContext only provides a limited, immutable subset of the full
functionality provided by ScFuncContext. By having separate context types compile-time
type-checking can be used to enforce their usage constraints.</p><p>An important part of setting up a smart contract is defining exactly which Funcs and Views
are available and informing the host about them. It is the host that will have to dispatch
the function calls to the corresponding smart contract code. To that end the smart
contract Wasm code will expose an externally callable function named <code>on_load</code> that will
be called by the host upon initial loading of the smart contract code. The <code>on_load</code>
function must provide the host with the list of Funcs and Views and specific identifiers
that can be used to invoke them. It uses a special temporary function context named
<code>ScExports</code>. That context can be used to provide the host with a function, type, name, and
identifier for each Func and View that can be called in the smart contract.</p><p>When the host must call a smart contract function it will do so by invoking a second
externally callable function named <code>on_call</code>. The host passes the identifier for the smart
contract Func or View that need to be invoked. The client Wasm code will then use this
identifier to set up the corresponding function context and call the function. Note that
there are no other parameters necessary because the function can subsequently access any
other function-related data through its context object.</p><p>Here is a (simplified) example from the <code>dividend</code> example smart contract that we will use
to showcase some features of WasmLib:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Rust</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><pre tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">OnLoad</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exports </span><span class="token operator" style="color:#393A34">:=</span><span class="token plain"> wasmlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">NewScExports</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exports</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AddFunc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;divide&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> funcDivide</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exports</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AddFunc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;init&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> funcInit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exports</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AddFunc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;member&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> funcMember</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exports</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AddFunc</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;setOwner&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> funcSetOwner</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exports</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AddView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;getFactor&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> viewGetFactor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exports</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">AddView</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;getOwner&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> viewGetOwner</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">fn on_load() {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    let exports = ScExports::new();</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exports.add_func(&quot;divide&quot;, func_divide);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exports.add_func(&quot;init&quot;, func_init);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exports.add_func(&quot;member&quot;, func_member);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exports.add_func(&quot;setOwner&quot;, func_set_owner);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exports.add_view(&quot;getFactor&quot;, view_get_factor);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    exports.add_view(&quot;getOwner&quot;, view_get_owner);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>As you can see this on_load() function first creates the required ScExports context and
then proceeds to define four Funcs named <code>divide</code>, <code>init</code>, <code>member</code>, and <code>setOwner</code>. It
does this by calling the add_func() method of the ScExports context. Next it defines two
Views named <code>getFactor</code> and <code>getOwner</code> by calling the add_view() method of the ScExports
context. The second parameter to these methods is the actual smart contract function
associated with the name specified. These methods will also automatically assign a unique
identifier to the function and then send everything to the host.</p><p>In its simplest form this is all that is necessary to initialize a smart contract. To
finalize this example, here is what the skeleton function implementations for the above
smart contract definition would look like:</p><div class="tabs-container"><ul role="tablist" aria-orientation="horizontal" class="tabs"><li role="tab" tabindex="0" aria-selected="true" class="tabs__item tabItem_1uMI tabs__item--active">Go</li><li role="tab" tabindex="-1" aria-selected="false" class="tabs__item tabItem_1uMI">Rust</li></ul><div class="margin-vert--md"><div role="tabpanel"><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><pre tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">funcDivide</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx wasmlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ScFuncContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;dividend.funcDivide&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">funcInit</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx wasmlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ScFuncContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;dividend.funcInit&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">funcMember</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx wasmlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ScFuncContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;dividend.funcMember&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">funcSetOwner</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx wasmlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ScFuncContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;dividend.funcSetOwner&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">viewGetFactor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx wasmlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ScViewContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;dividend.viewGetFactor&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">func</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">viewGetOwner</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx wasmlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ScViewContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">Log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;dividend.viewGetOwner&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div><div role="tabpanel" hidden=""><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly rust"><pre tabindex="0" class="prism-code language-rust codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">fn func_divide(ctx: &amp;ScFuncContext) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx.log(&quot;Calling dividend.divide&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">fn func_init(ctx: &amp;ScFuncContext) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx.log(&quot;Calling dividend.init&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">fn func_member(ctx: &amp;ScFuncContext) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx.log(&quot;Calling dividend.member&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">fn func_set_owner(ctx: &amp;ScFuncContext) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx.log(&quot;Calling dividend.setOwner&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">fn view_get_factor(ctx: &amp;ScViewContext) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx.log(&quot;Calling dividend.getFactor&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#393A34"><span class="token plain">fn view_get_owner(ctx: &amp;ScViewContext) {</span></span><span class="token-line" style="color:#393A34"><span class="token plain">    ctx.log(&quot;Calling dividend.getOwner&quot;);</span></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div></div></div></div><p>As you can see the functions are each provided with a context parameter, which is
conventionally named <em>ctx</em>. Notice that the four Funcs are passed an ScFuncContext,
whereas the two Views receive an ScViewContext. We&#x27;re also already showcasing an important
feature of the contexts: the log() method. This can be used to log human-readable text to
the host&#x27;s log output. Logging text is the only way to add tracing to a smart contract,
because it does not have any I/O capabilities other than what the host provides. There is
a second logging method, called trace(), that can be used to provide extra debug
information to the host&#x27;s log output. This output can be selectively turned on and off at
the host.</p><p>In the next section we will introduce the <code>schema</code> tool that simplifies smart contract
programming a lot.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/iotaledger/chronicle.rs/tree/main/docs/docs/guide/schema/context.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/wasp/docs/guide/schema/types/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« WasmLib Data Types</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/wasp/docs/guide/schema/schema/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Smart Contract Schema Tool Â»</div></a></div></nav></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/wasp/docs/overview/">Overview</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 IOTA Foundation, Built with Docusaurus.</div></div></div></footer></div>
<script src="/wasp/assets/js/runtime~main.11519ed5.js"></script>
<script src="/wasp/assets/js/main.fed7690e.js"></script>
</body>
</html>